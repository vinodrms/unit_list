<div class="invoice-edit-container full-height" [ngClass]="{'read-only-invoice': !editMode}" customScroll>
    <div class="invoice-edit-wrap">
        <p class="invoice-title-container">
            <span class="invoice-title" [ngClass]="{'read-only': !editMode}">
                <i *ngIf="isPaid" class="fa fa-check" aria-hidden="true"></i> {{ 'Invoice' | translate }} #{{ invoiceVMIndex + 1 }} <b *ngIf="isPaid"> {{ 'PAID' | translate }}</b>
            </span>

            <span class="invoice-remove" *ngIf="editMode && isNewlyAdded">
                <a class="btn btn-xs" title="{{ 'Delete' | translate}}" (click)="onDelete()"><i class="fa unitpal-font">\</i></a>
            </span>
        </p>

        <invoice-payer *ngFor="let invoicePayerVM of invoicePayerVMList; let invoicePayerVMIndex = index" [invoiceVMIndex]="invoiceVMIndex"
            [invoicePayerVMIndex]="invoicePayerVMIndex"></invoice-payer>

        <p *ngIf="editMode" class="btn-add-invoice-payer">
            <th-button [upFont]="'\''" [text]="'Add Payer'" (onButtonClick)="openCustomerSelectModal()"></th-button>
        </p>
        <table class="table table-invoice-items" style="width: 100%">
            <thead>
                <tr>
                    <th>
                    </th>
                    <th>
                        {{ 'Item Name'| translate }}
                    </th>
                    <th>
                        {{ 'Qty' | translate }}
                    </th>
                    <th>
                        {{ 'Cost' | translate }}
                    </th>
                    <th>
                    </th>
                </tr>
            </thead>
            <tfoot>
                <tr>
                    <td></td>
                    <td><b>{{ 'Total' | translate }}</b></td>
                    <td></td>
                    <td>{{ ccySymbol }} <b>{{ totalPrice }}</b></td>
                    <td></td>
                </tr>
            </tfoot>
            <tbody>

                <tr *ngFor="let invoiceItemVM of invoiceItemVMList; let invoiceItemVMIndex = index" (click)="selectInvoiceItem(invoiceItemVMIndex)"
                    [ngClass]="{'selectable' : invoiceItemVM.isMovable() && editMode, 'selected': invoiceItemSelected(invoiceItemVMIndex) && editMode}">

                    <td class="move-left-invoice-item-cell" width="10%">
                        <label *ngIf="invoiceItemSelected(invoiceItemVMIndex) && editMode" class="btn btn-default move-invoice-item-btn">
                            <i class="fa fa-arrow-left" aria-hidden="true"></i>
                        </label>
                    </td>
                    <td width="50%">{{ invoiceItemVM.itemDisplayText }}</td>
                    <td width="10%">{{ invoiceItemVM.qty }}</td>
                    <td width="20%">{{ ccySymbol }} <b>{{ invoiceItemVM.price }}</b></td>
                    <td width="10%" class="move-right-invoice-item-cell">
                        <label *ngIf="invoiceItemSelected(invoiceItemVMIndex) && editMode" class="btn btn-default move-invoice-item-btn">
                            <i class="fa fa-arrow-right" aria-hidden="true"></i>
                        </label>
                    </td>
                </tr>

                <tr *ngIf="editMode">
                    <td colspan="2" class='add-item-cell'>
                        <th-button [upFont]="'\''" [text]="'Add Item'" (onButtonClick)="openAddOnProductSelectModal()"></th-button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div *ngIf="!editMode && !isPaid" class="invoice-edit-footer">
        <button type="button" class="btn btn-primary">
            <i class="fa fa-2x unitpal-font rotate-45">L</i> {{ 'Pay Invoice' | translate }}
        </button>
    </div>

</div>