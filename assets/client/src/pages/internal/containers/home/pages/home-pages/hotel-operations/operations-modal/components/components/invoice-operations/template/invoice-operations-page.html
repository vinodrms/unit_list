<loading-component [isLoading]="isLoading && !didInitOnce"></loading-component>

<div class="full-height" *ngIf="didInitOnce">
	<div class="invoice-container">

		<invoice-edit *ngFor="let displayedInvoiceIndex of displayedInvoiceIndexList" [invoiceVMIndex]="displayedInvoiceIndex" (newlyAddedInvoiceRemoved)="newlyAddedInvoiceRemoved($event)"></invoice-edit>

	</div>
	<div class="invoice-operations-footer">

		<item-list-navigator (displayedItemsUpdated)="displayedItemsUpdated($event)" [totalNumberOfItems]="totalNumberOfInvoices" [maxNumberOfDisplayedItems]="invoiceNavigatorWindowSize"
			[numberOfSimultaneouslySelectedItems]="numberOfSimultaneouslyDisplayedInvoices" [totalNumberOfinvoicesChangedObservable]="totalNumberOfinvoicesChangedObservable">
		</item-list-navigator>

		<div *ngIf="editMode" class="invoice-operations-btn-group">
			<th-button>
				<a class="btn th-button-box" (click)="onAddInvoice()">
					<i class="fa fa-2x unitpal-font">'</i>
					<span>{{ 'Add Invoice' | translate }}</span>
				</a>
			</th-button>
			<button class="btn btn-primary" type="button" (click)="onSave()"> {{ 'Save Changes' | translate }}</button>
			<button class="btn btn-danger" type="button" (click)="onCancel()"> {{ 'Cancel' | translate }}</button>
		</div>

		<div *ngIf="payOnlyModeWithEditOption" class="invoice-operations-btn-group">
			<button class="btn btn-danger" type="button" (click)="onEdit()"> {{ 'Edit' | translate }}</button>
		</div>

	</div>
</div>